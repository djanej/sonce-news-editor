<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1.0" />
	<title>Sonce News Editor</title>
	<link rel="stylesheet" href="style.css" />
</head>
<body>
	<header class="app-header">
		<h1>Sonce News Editor</h1>
		<p class="subtitle">Generate Markdown news posts with YAML frontmatter</p>
	</header>

	<main class="container">
		<section class="editor">
			<form id="news-form" novalidate>
				<div class="field">
					<label for="title">Title<span class="required">*</span></label>
					<input type="text" id="title" name="title" placeholder="Enter news title" required />
				</div>

				<div class="field-group">
					<div class="field">
						<label for="date">Date<span class="required">*</span></label>
						<input type="date" id="date" name="date" required />
					</div>
					<div class="field">
						<label for="author">Author</label>
						<input type="text" id="author" name="author" placeholder="Sindikata Sonce Koper" />
					</div>
				</div>

				<div class="field-group">
					<div class="field">
						<label for="slug">Slug</label>
						<input type="text" id="slug" name="slug" placeholder="auto-from-title" />
						<p class="hint">Used in filename and URLs (leave blank to auto-generate).</p>
					</div>
					<div class="field">
						<label for="tags">Tags / Category</label>
						<input type="text" id="tags" name="tags" placeholder="Comma separated, e.g. events, community" />
					</div>
				</div>

				<div class="field">
					<label for="summary">Summary</label>
					<textarea id="summary" name="summary" rows="3" placeholder="Short excerpt shown on the listing page (optional)"></textarea>
					<p class="hint">If empty, it will be generated from the first part of the body.</p>
				</div>

				<div class="field-group">
					<div class="field">
						<label for="image">Hero Image URL</label>
						<input type="url" id="image" name="image" placeholder="/static/uploads/news/hero-image.jpg" />
						<p class="hint">Prefer paths under /static/uploads/news/</p>
					</div>
					<div class="field">
						<label for="imageAlt">Image Alt Text</label>
						<input type="text" id="imageAlt" name="imageAlt" placeholder="Short description for accessibility" />
					</div>
				</div>

				<div class="field-group">
					<div class="field">
						<label for="imageFile">Upload Hero Image</label>
						<input type="file" id="imageFile" name="imageFile" accept="image/*" />
						<p class="hint">Optional. If provided and saving to repo, it will be copied to /static/uploads/news/</p>
					</div>
					<div class="field">
						<label for="importMd">Import Markdown (.md)</label>
						<input type="file" id="importMd" name="importMd" accept="text/markdown,.md" />
						<p class="hint">Populate fields from an existing post file.</p>
					</div>
				</div>

				<div class="field">
					<label for="attachments">Additional Image Attachments</label>
					<input type="file" id="attachments" name="attachments" accept="image/*" multiple />
					<p class="hint">Optional. These will be inserted and saved to /static/uploads/news/YYYY/MM/</p>
				</div>

				<div class="toolbar">
					<div class="toolbar-left">
						<button type="button" data-md="h1">H1</button>
						<button type="button" data-md="h2">H2</button>
						<button type="button" data-md="h3">H3</button>
						<button type="button" data-md="bold"><strong>B</strong></button>
						<button type="button" data-md="italic"><em>I</em></button>
						<button type="button" data-md="ul">• List</button>
						<button type="button" data-md="ol">1. List</button>
						<button type="button" data-md="quote">“ Quote”</button>
						<button type="button" data-md="code">Code</button>
						<button type="button" data-md="link">Link</button>
						<button type="button" id="insert-hero-btn">Insert Hero</button>
						<button type="button" id="insert-attachments-btn">Insert Attachments</button>
					</div>
					<div class="toolbar-right">
						<label class="hint"><input type="checkbox" id="live-preview" /> Live Preview</label>
					</div>
				</div>

				<div class="field">
					<label for="body">Body Content (Markdown)</label>
					<textarea id="body" name="body" rows="14" placeholder="Write your news content here using Markdown..."></textarea>
				</div>

				<div class="templates">
					<div class="templates-row">
						<select id="template-select">
							<option value="">Select template…</option>
						</select>
						<button type="button" id="apply-template-btn">Apply</button>
						<button type="button" id="delete-template-btn">Delete</button>
					</div>
					<div class="templates-row">
						<input type="text" id="template-name" placeholder="Template name" />
						<button type="button" id="save-template-btn">Save as New</button>
					</div>
				</div>

				<div class="actions">
					<button type="button" id="preview-btn">Preview</button>
					<button type="button" id="download-btn" class="primary">Download Markdown</button>
					<button type="button" id="copy-json-btn">Copy JSON Entry</button>
					<button type="button" id="download-json-btn">Download JSON Entry</button>
				</div>

				<div class="drafts-actions">
					<button type="button" id="add-draft-btn">Add to Drafts</button>
					<button type="button" id="clear-drafts-btn">Clear Drafts</button>
					<button type="button" id="download-zip-btn">Download Drafts ZIP</button>
					<span id="drafts-count" class="hint">0 drafts</span>
				</div>

				<div class="repo-actions">
					<div class="repo-row">
						<button type="button" id="connect-repo-btn">Connect Repo Folder</button>
						<span id="repo-status" class="hint">Not connected</span>
					</div>
					<div class="repo-row">
						<button type="button" id="save-repo-btn" class="primary" disabled>Save to Repo</button>
						<button type="button" id="rebuild-index-btn" disabled>Rebuild Index</button>
						<span class="hint">Saves Markdown to content/news and updates content/news/index.json</span>
					</div>
				</div>
			</form>
		</section>

		<aside class="preview">
			<div class="preview-header">
				<h2>Preview</h2>
				<p class="hint">Renders Markdown below. Frontmatter not shown.</p>
			</div>
			<div id="preview-content" class="preview-content">
				<p class="placeholder">Click Preview to see a live rendering here.</p>
			</div>
		</aside>
	</main>

	<footer class="app-footer">
		<p>Made for Sonce — Local Markdown generator. No uploads, all in your browser.</p>
	</footer>

	<script src="script.js"></script>
</body>
</html>